"use strict";(self.webpackChunkiblog_admin=self.webpackChunkiblog_admin||[]).push([[135],{482:function(t,e,n){var a=n(9439),i=n(8848),o=n(9016),c=n(2791),r=n(6211),l=n(184);e.Z=function(t){var e=(0,c.useState)(0),n=(0,a.Z)(e,2),s=n[0],u=n[1],d=(0,c.useState)(0),f=(0,a.Z)(d,2),g=f[0],h=f[1],m=(0,c.useState)(0),p=(0,a.Z)(m,2),x=p[0],Z=p[1];(0,c.useEffect)((function(){u(t.total),h(t.currentPage),Z(t.pageSize)}),[t]);return(0,l.jsx)("div",{children:(0,l.jsx)(i.ZP,{locale:r.Z,children:(0,l.jsx)(o.Z,{style:{marginTop:"10px"},current:g,pageSize:x,total:s,pageSizeOptions:[5,10,50,100],onChange:function(e,n){t.onChange(e,n)},showSizeChanger:!0,showQuickJumper:!0,showTotal:function(t){return"\u5171\u6709 ".concat(t," \u6761\u6570\u636e")}})})})}},135:function(t,e,n){n.r(e),n.d(e,{default:function(){return j}});var a=n(9439),i=n(2791),o=n(9428),c=n(940),r=n(7309),l=n(6988),s=n(2516),u=n(2622),d=n(5796),f=n(8687),g=n(7781),h=n(8863),m=n(482),p=n(7892),x=n.n(p),Z=n(456),S=n(184),C=o.Z.confirm,v=c.Z.Search,j=(0,f.$j)(null,(function(t){return{BlogActions:(0,g.DE)(h,t)}}))((function(t){var e=(0,Z.Z)(localStorage.getItem("token"))[0].role[0].role_type,n=[{title:"\u6587\u7ae0\u6807\u9898",dataIndex:"articleTitle",fixed:"left",width:160},{title:"\u6635\u79f0",dataIndex:"nickName",width:100},{title:"\u5f53\u524d\u56de\u590d\u5185\u5bb9",dataIndex:"currentReplayContent"},{title:"\u76ee\u6807\u56de\u590dID",dataIndex:"targetReplayId"},{title:"\u76ee\u6807\u56de\u590d\u5185\u5bb9",dataIndex:"targetReplayContent"},{title:"\u8bc4\u8bba\u65f6\u95f4",dataIndex:"commentTime",render:function(t){return x()(1e3*t).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u64cd\u4f5c",key:"action",fixed:"right",width:120,render:function(t){return(0,S.jsx)("div",{children:(0,S.jsx)(r.Z,{type:"primary",danger:!0,shape:"circle",disabled:e,icon:(0,S.jsx)(u.Z,{}),onClick:function(){D(t)},style:{marginRight:"5px"}})})}}],o=(0,i.useState)([]),c=(0,a.Z)(o,2),f=c[0],g=c[1],h=(0,i.useState)(0),p=(0,a.Z)(h,2),j=p[0],y=p[1],A=(0,i.useState)(1),k=(0,a.Z)(A,2),w=k[0],I=k[1],_=(0,i.useState)(5),z=(0,a.Z)(_,2),B=z[0],b=z[1];(0,i.useEffect)((function(){t.BlogActions.asyncCommentsAction(w,B,"").then((function(t){var e=t.data,n=e.data,a=e.totalCount,i=e.page,o=e.pageSize;n.forEach((function(t){0===t.children.length&&(t.children="")})),g(n),y(a),I(i),b(o)}))}),[w,B,t.BlogActions]);var D=function(e){C({title:"\u4f60\u786e\u5b9a\u8981\u5220\u9664\u5417?",icon:(0,S.jsx)(d.Z,{}),onOk:function(){g(f.filter((function(t){return t._id!==e._id}))),l.ZP.success("\u8bc4\u8bba\u5220\u9664\u6210\u529f"),t.BlogActions.asyncCommentDeleteAction(e._id).then((function(){t.BlogActions.asyncCommentsAction(w,B,"").then((function(t){var e=t.data,n=e.data,a=e.totalCount,i=e.page,o=e.pageSize;g(n),y(a),I(i),b(o)}))}))}})};return(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"cate_title",children:[(0,S.jsx)("div",{}),(0,S.jsx)("div",{className:"cate_search",children:(0,S.jsx)(v,{className:"search",allowClear:!0,placeholder:"\u8bf7\u8f93\u5165\u6587\u7ae0\u540d\u79f0",onSearch:function(e){t.BlogActions.asyncCommentsAction(w,B,e).then((function(t){var e=t.data,n=e.data,a=e.totalCount,i=e.page,o=e.pageSize;g(n),y(a),I(i),b(o)}))},enterButton:!0})})]}),(0,S.jsx)(s.Z,{columns:n,dataSource:f,rowKey:function(t){return t._id},pagination:!1}),(0,S.jsx)(m.Z,{pageSize:B,currentPage:w,total:j,onChange:function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.BlogActions.asyncCommentsAction(e,n,a).then((function(t){var a=t.data.data;g(a),I(e),b(n)}))}})]})}))}}]);
//# sourceMappingURL=135.365d85cc.chunk.js.map