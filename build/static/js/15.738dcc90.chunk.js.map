{"version":3,"file":"static/js/15.738dcc90.chunk.js","mappings":"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","sources":["components/layout/sidemenu/index.tsx","components/layout/header/index.tsx","pages/layout/index.tsx"],"sourcesContent":["import { Layout, Menu } from 'antd';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as BlogActions from '@/redux/actionCreator';\nimport { withRouter } from 'react-router-dom';\nimport {\n  HomeOutlined,\n  HighlightOutlined,\n  MessageOutlined,\n  EditOutlined,\n  LinkedinOutlined,\n  NotificationOutlined,\n} from '@ant-design/icons';\nimport './index.less';\n\nconst { Sider } = Layout;\nconst items = [\n  {\n    key: '/admin/home',\n    icon: <HomeOutlined />,\n    label: '首页测试',\n  },\n  {\n    key: '/admin/article',\n    icon: <HighlightOutlined />,\n    label: '文章管理',\n    children: [\n      {\n        key: '/admin/article/list',\n        label: '文章列表',\n      },\n      {\n        key: '/admin/article/insert',\n        label: '编写文章',\n      },\n      {\n        key: '/admin/article/comment',\n        label: '评论管理',\n      },\n      {\n        key: '/admin/article/category',\n        label: '文章分类',\n      },\n      {\n        key: '/admin/article/tags',\n        label: '标签信息',\n      },\n    ],\n  },\n  // {\n  //   key: '/admin/userinfo',\n  //   icon: <UserOutlined />,\n  //   label: '用户管理',\n  // },\n  {\n    key: '/admin/message',\n    icon: <MessageOutlined />,\n    label: '留言管理',\n  },\n  {\n    key: '/admin/friendly',\n    icon: <LinkedinOutlined />,\n    label: '友链管理',\n  },\n  {\n    key: '/admin/essay',\n    icon: <EditOutlined />,\n    label: '随笔',\n  },\n  {\n    key: '/admin/about',\n    icon: <NotificationOutlined />,\n    label: '关于管理',\n  },\n];\n\nconst SideMenu = (props: any) => {\n  // 获取动态路由信息\n  const selectKeys = [props.location.pathname];\n\n  // 截取路由信息，折叠页面自动打开\n  const openKeys = ['/admin/' + props.location.pathname.split('/')[2]];\n\n  // 获取路由列表\n  // 点击切换路由\n  const handleItemClick = (e: any) => {\n    let path = e.keyPath[0];\n    props.history.push(path);\n  };\n  return (\n    // 折叠展开\n    <Sider trigger={null} collapsible collapsed={props.isCollapsed}>\n      <div className=\"logo\">\n        {/* <img src=\"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg\" alt=\"\" /> */}\n        <div className=\"logo_text\">夜雨炊烟</div>\n      </div>\n      <Menu\n        theme=\"dark\"\n        mode=\"inline\"\n        defaultSelectedKeys={['/admin/home']}\n        selectedKeys={selectKeys}\n        onClick={handleItemClick}\n        defaultOpenKeys={openKeys}\n        items={items}\n      ></Menu>\n    </Sider>\n  );\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    BlogActions: bindActionCreators(BlogActions, dispatch),\n  };\n};\nconst mapStateToProps = (state: any) => {\n  return {\n    userinfo: state.LoginReducer.userinfo,\n    isCollapsed: state.SideMenuStateReducer.isCollapsed,\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(SideMenu));\n","import { Layout, Dropdown, message } from 'antd';\nimport { MenuUnfoldOutlined, MenuFoldOutlined } from '@ant-design/icons';\nimport type { MenuProps } from 'antd';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as BlogActions from '@/redux/actionCreator';\nimport './index.less';\nimport { useEffect, useState } from 'react';\nimport jwtDecode from 'jwt-decode';\nconst { Header } = Layout;\nconst TopHeader = (props: any) => {\n  // 用户信息\n  const [userInfo, setUserInfo] = useState<any>({});\n  useEffect(() => {\n    // 解析token\n    //@ts-ignore\n    let userInfo = jwtDecode(localStorage.getItem('token'))._doc;\n    setUserInfo(userInfo);\n  }, []);\n  const changeCollapsed = () => {\n    // 改变状态值\n    props.ChangeCollapsed.changeCollapsed();\n  };\n  // 退出登录\n  const handQuit = () => {\n    props.BlogActions.asyncLoginOutAction().then(() => {\n      // 清空token\n      localStorage.removeItem('token');\n      message.success('退出登录成功');\n      // 跳转到登录页面\n      props.history.push('/admin/login');\n    });\n  };\n  const items: MenuProps['items'] = [\n    // {\n    //   label: <a href=\"https://www.antgroup.com\">个人中心</a>,\n    //   key: 'person',\n    // },\n    {\n      label: (\n        <div>\n          <div onClick={handQuit}>退出登录</div>\n        </div>\n      ),\n      key: '1',\n      danger: true,\n    },\n  ];\n  return (\n    <Header className=\"site-layout-background\" style={{ padding: '0 16px' }}>\n      {/* 获取状态 */}\n      {props.isCollapsed ? (\n        <MenuUnfoldOutlined onClick={changeCollapsed} />\n      ) : (\n        <MenuFoldOutlined onClick={changeCollapsed} />\n      )}\n      <div style={{ float: 'right' }}>\n        <span>\n          欢迎回家：\n          <Dropdown menu={{ items }} placement=\"bottom\">\n            <b style={{ color: 'blue', cursor: 'pointer' }}>{userInfo.username}</b>\n          </Dropdown>\n        </span>\n\n        {/* <Avatar style={{ backgroundColor: '#87d068' }} icon={<UserOutlined />} /> */}\n      </div>\n    </Header>\n  );\n};\n// 将dispatch方法映射为props\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    BlogActions: bindActionCreators(BlogActions, dispatch),\n    // 封装一个dispatch 函数\n    ChangeCollapsed: bindActionCreators(BlogActions, dispatch),\n  };\n};\n// 将状态映射为属性\nconst mapStateToProps = (state: any) => {\n  return {\n    userinfo: state.LoginReducer.userinfo,\n    isCollapsed: state.SideMenuStateReducer.isCollapsed,\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(TopHeader));\n","import { lazy, Suspense } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { Layout, Spin } from 'antd';\nimport SideMenu from '@/components/layout/sidemenu';\nimport Header from '@/components/layout/header';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as BlogActions from '@/redux/actionCreator';\nimport NProgress from 'nprogress';\nimport 'nprogress/nprogress.css';\nimport './index.less';\nconst Home = lazy(() => import('@/pages/home'));\nconst NotFound = lazy(() => import('@/pages/404'));\nconst ArticleList = lazy(() => import('@/pages/articles'));\nconst Category = lazy(() => import('@/pages/category'));\nconst Tags = lazy(() => import('@/pages/tags'));\nconst About = lazy(() => import('@/pages/about'));\nconst Comment = lazy(() => import('@/pages/comment'));\nconst UserInfo = lazy(() => import('@/pages/users'));\nconst ArticleAdd = lazy(() => import('@/pages/articles/add'));\nconst ArticleUpdate = lazy(() => import('@/pages/articles/update'));\nconst Message = lazy(() => import('@/pages/message'));\nconst Friendly = lazy(() => import('@/pages/friendly'));\nconst Essay = lazy(() => import('@/pages/essay'));\nconst { Content } = Layout;\nconst LayoutIndex = (props: any) => {\n  NProgress.start();\n  NProgress.done();\n  return (\n    <Layout>\n      {/*侧边栏*/}\n      <SideMenu></SideMenu>\n      <Layout className=\"site-layout\">\n        <Header></Header>\n        {/*使用content包裹内容*/}\n        <Content\n          className=\"site-layout-background\"\n          style={{\n            margin: '24px 16px',\n            padding: 24,\n            minHeight: 280,\n            overflow: 'auto',\n          }}\n        >\n          <Suspense fallback={<div></div>}>\n            <Spin size=\"large\" spinning={props.isLoading}>\n              <Switch>\n                <Route path=\"/admin/home\" component={Home}></Route>\n                <Route path=\"/admin/article/list\" component={ArticleList}></Route>\n                <Route path=\"/admin/article/category\" component={Category}></Route>\n                <Route path=\"/admin/article/tags\" component={Tags}></Route>\n                <Route path=\"/admin/article/insert\" component={ArticleAdd}></Route>\n                <Route path=\"/admin/article/update/:id\" component={ArticleUpdate}></Route>\n                <Route path=\"/admin/article/comment\" component={Comment}></Route>\n                <Route path=\"/admin/about\" component={About}></Route>\n                <Route path=\"/admin/userinfo\" component={UserInfo}></Route>\n                <Route path=\"/admin/message\" component={Message}></Route>\n                <Route path=\"/admin/friendly\" component={Friendly}></Route>\n                <Route path=\"/admin/essay\" component={Essay}></Route>\n                <Route path=\"*\" component={NotFound}></Route>\n              </Switch>\n            </Spin>\n          </Suspense>\n        </Content>\n      </Layout>\n    </Layout>\n  );\n};\n\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    BlogActions: bindActionCreators(BlogActions, dispatch),\n  };\n};\n// 将状态映射为属性\nconst mapStateToProps = (state: any) => {\n  return {\n    isLoading: state.LoadingReducer.isLoading,\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(LayoutIndex);\n"],"names":["Sider","Layout","items","key","icon","HomeOutlined","label","HighlightOutlined","children","MessageOutlined","LinkedinOutlined","EditOutlined","NotificationOutlined","connect","state","userinfo","LoginReducer","isCollapsed","SideMenuStateReducer","dispatch","BlogActions","bindActionCreators","withRouter","props","selectKeys","location","pathname","openKeys","split","trigger","collapsible","collapsed","className","theme","mode","defaultSelectedKeys","selectedKeys","onClick","e","path","keyPath","history","push","defaultOpenKeys","Header","ChangeCollapsed","useState","userInfo","setUserInfo","useEffect","jwtDecode","localStorage","getItem","_doc","changeCollapsed","asyncLoginOutAction","then","removeItem","message","danger","style","padding","MenuUnfoldOutlined","MenuFoldOutlined","float","menu","placement","color","cursor","username","Home","lazy","NotFound","ArticleList","Category","Tags","About","Comment","UserInfo","ArticleAdd","ArticleUpdate","Message","Friendly","Essay","Content","isLoading","LoadingReducer","NProgress","margin","minHeight","overflow","Suspense","fallback","size","spinning","component"],"sourceRoot":""}