"use strict";(self.webpackChunkiblog_admin=self.webpackChunkiblog_admin||[]).push([[15],{7761:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var i=t(2791),a=t(4880),o=t(586),s=t(43),l=t(9439),r=t(3388),c=t(8687),d=t(7781),u=t(8863),m=t(456),h=t(184),p=o.Z.Sider,f=(0,c.$j)((function(e){return{userinfo:e.LoginReducer.userinfo,isCollapsed:e.SideMenuStateReducer.isCollapsed}}),(function(e){return{BlogActions:(0,d.DE)(u,e)}}))((0,a.EN)((function(e){var n=(0,m.Z)(localStorage.getItem("token"))[0].role,t=(0,i.useState)([]),a=(0,l.Z)(t,2),o=a[0],s=a[1];(0,i.useEffect)((function(){e.BlogActions.asyncRightsListAction().then((function(e){var t=e.data.data;t.map((function(e,n){if(e.children.length<1)return t[n].children="";var i=e.children.filter((function(e){return 1===e.pagepermission}));return e.children=i}));var i=t.filter((function(e){return 1===e.pagepermission&&n[0].rights.includes(e.key)}));s(i)}))}),[e.BlogActions]);var c=[e.location.pathname],d=["/admin/"+e.location.pathname.split("/")[2]];return(0,h.jsxs)(p,{trigger:null,collapsible:!0,collapsed:e.isCollapsed,style:{userSelect:"none"},children:[(0,h.jsx)("div",{className:"logo",children:e.isCollapsed?(0,h.jsx)("div",{className:"logo_text_hide",children:"\u708a\u70df"}):(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",left:"25px"},children:[(0,h.jsx)("img",{src:"https://yychuiyan.com/assets/avatar-8540a345.webp",alt:"",style:{borderRadius:"50%"}}),(0,h.jsx)("div",{className:"logo_text",children:"\u591c\u96e8\u708a\u70df"})]})}),(0,h.jsx)(r.Z,{theme:"dark",mode:"inline",defaultSelectedKeys:["/admin/home"],selectedKeys:c,onClick:function(n){var t=n.keyPath[0];e.history.push(t)},defaultOpenKeys:d,items:o})]})}))),g=t(6988),x=t(294),j=t(2962),y=t(3621),b=t(5797),v=o.Z.Header,A=(0,c.$j)((function(e){return{userinfo:e.LoginReducer.userinfo,isCollapsed:e.SideMenuStateReducer.isCollapsed}}),(function(e){return{BlogActions:(0,d.DE)(u,e),ChangeCollapsed:(0,d.DE)(u,e)}}))((0,a.EN)((function(e){var n,t=(0,i.useState)(),a=(0,l.Z)(t,2),o=a[0],s=a[1];(0,i.useEffect)((function(){var e=(0,m.Z)(localStorage.getItem("token"))[0].username;s(e)}),[]);var r=function(){e.ChangeCollapsed.changeCollapsed()},c=[{label:(0,h.jsx)("div",{children:(0,h.jsx)("div",{onClick:function(){e.BlogActions.asyncLoginOutAction().then((function(){localStorage.removeItem("token"),g.ZP.success("\u9000\u51fa\u767b\u5f55"),e.history.push("/admin/login")}))},children:"\u9000\u51fa\u767b\u5f55"})}),key:"1",danger:!0}];return(0,h.jsxs)(v,{className:"site-layout-background",style:{padding:"0 16px",userSelect:"none"},children:[e.isCollapsed?(0,h.jsx)(y.Z,{onClick:r}):(0,h.jsx)(b.Z,{onClick:r}),(0,h.jsx)("div",{style:{float:"right",cursor:"pointer"},children:(0,h.jsx)(x.Z,{menu:{items:c},placement:"bottom",children:(0,h.jsx)("p",{style:{position:"relative",bottom:"15px"},children:(0,h.jsx)(j.C,{size:40,className:"avatar",style:{backgroundColor:"#87d068"},children:null===o||void 0===o||null===(n=o.slice(0,1))||void 0===n?void 0:n.toUpperCase()})})})})]})}))),C=t(691),z=t.n(C),k=(t(6598),(0,i.lazy)((function(){return Promise.all([t.e(258),t.e(799)]).then(t.bind(t,8799))}))),P=(0,i.lazy)((function(){return t.e(808).then(t.bind(t,7808))})),W=(0,i.lazy)((function(){return Promise.all([t.e(389),t.e(507),t.e(585),t.e(225),t.e(6),t.e(454),t.e(41)]).then(t.bind(t,41))})),S=(0,i.lazy)((function(){return Promise.all([t.e(389),t.e(863),t.e(507),t.e(585),t.e(6),t.e(683)]).then(t.bind(t,6683))})),Z=(0,i.lazy)((function(){return Promise.all([t.e(389),t.e(863),t.e(507),t.e(585),t.e(94)]).then(t.bind(t,5094))})),N=(0,i.lazy)((function(){return Promise.all([t.e(389),t.e(863),t.e(507),t.e(585),t.e(823)]).then(t.bind(t,2823))})),E=(0,i.lazy)((function(){return Promise.all([t.e(389),t.e(863),t.e(507),t.e(585),t.e(215)]).then(t.bind(t,5215))})),L=(0,i.lazy)((function(){return Promise.all([t.e(863),t.e(529),t.e(92),t.e(769),t.e(34)]).then(t.bind(t,3569))})),R=(0,i.lazy)((function(){return Promise.all([t.e(389),t.e(507),t.e(585),t.e(642)]).then(t.bind(t,9642))})),B=(0,i.lazy)((function(){return Promise.all([t.e(389),t.e(863),t.e(507),t.e(585),t.e(257)]).then(t.bind(t,9257))})),_=(0,i.lazy)((function(){return Promise.all([t.e(389),t.e(863),t.e(507),t.e(585),t.e(518),t.e(225),t.e(819)]).then(t.bind(t,4819))})),w=(0,i.lazy)((function(){return Promise.all([t.e(389),t.e(863),t.e(507),t.e(529),t.e(518),t.e(92),t.e(769),t.e(90),t.e(677)]).then(t.bind(t,677))})),D=(0,i.lazy)((function(){return Promise.all([t.e(389),t.e(863),t.e(507),t.e(529),t.e(518),t.e(92),t.e(769),t.e(90),t.e(67)]).then(t.bind(t,3067))})),I=(0,i.lazy)((function(){return Promise.all([t.e(389),t.e(863),t.e(507),t.e(585),t.e(454),t.e(421)]).then(t.bind(t,9421))})),K=(0,i.lazy)((function(){return Promise.all([t.e(389),t.e(863),t.e(507),t.e(585),t.e(518),t.e(225),t.e(725)]).then(t.bind(t,3725))})),$=(0,i.lazy)((function(){return Promise.all([t.e(389),t.e(863),t.e(507),t.e(585),t.e(518),t.e(92),t.e(669)]).then(t.bind(t,669))})),M=(0,i.lazy)((function(){return Promise.all([t.e(389),t.e(863),t.e(507),t.e(585),t.e(243)]).then(t.bind(t,8243))})),O=(0,i.lazy)((function(){return Promise.all([t.e(389),t.e(863),t.e(507),t.e(585),t.e(410)]).then(t.bind(t,410))})),H=o.Z.Content,U=(0,c.$j)((function(e){return{isLoading:e.LoadingReducer.isLoading}}),(function(e){return{BlogActions:(0,d.DE)(u,e)}}))((function(e){return z().start(),z().done(),(0,h.jsxs)(o.Z,{children:[(0,h.jsx)(f,{}),(0,h.jsxs)(o.Z,{className:"site-layout",children:[(0,h.jsx)(A,{}),(0,h.jsx)(H,{className:"site-layout-background",style:{margin:"10px 10px",padding:10,userSelect:"none"},children:(0,h.jsx)(i.Suspense,{fallback:(0,h.jsx)("div",{}),children:(0,h.jsx)(s.Z,{size:"large",spinning:e.isLoading,children:(0,h.jsxs)(a.rs,{children:[(0,h.jsx)(a.AW,{path:"/admin/home",component:k}),(0,h.jsx)(a.AW,{path:"/admin/article/list",component:W}),(0,h.jsx)(a.AW,{path:"/admin/permission/list",component:S}),(0,h.jsx)(a.AW,{path:"/admin/rule/list",component:Z}),(0,h.jsx)(a.AW,{path:"/admin/article/category",component:N}),(0,h.jsx)(a.AW,{path:"/admin/article/tags",component:E}),(0,h.jsx)(a.AW,{path:"/admin/article/insert",component:w}),(0,h.jsx)(a.AW,{path:"/admin/article/update/:id",component:D}),(0,h.jsx)(a.AW,{path:"/admin/article/comment",component:R}),(0,h.jsx)(a.AW,{path:"/admin/about",component:L}),(0,h.jsx)(a.AW,{path:"/admin/manage/list",component:B}),(0,h.jsx)(a.AW,{path:"/admin/user/list",component:_}),(0,h.jsx)(a.AW,{path:"/admin/message",component:I}),(0,h.jsx)(a.AW,{path:"/admin/friendly",component:K}),(0,h.jsx)(a.AW,{path:"/admin/essay",component:$}),(0,h.jsx)(a.AW,{path:"/admin/affiche",component:M}),(0,h.jsx)(a.AW,{path:"/admin/apothegm",component:O}),(0,h.jsx)(a.AW,{path:"*",component:P})]})})})})]})]})}))}}]);
//# sourceMappingURL=15.f2e2963f.chunk.js.map